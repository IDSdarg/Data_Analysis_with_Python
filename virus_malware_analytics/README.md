
Use Cases:
============
Banks, insurance and credit card companies are leaning heavily towards online security and fraud preventions using data science and analytics tools. An IP address is one of the most effective means of identification because of the underlying information it contains. From an IP address, we can determine several geolocation information about the user and determine if the IP has already been blacklisted.

Because IP Intelligence reveals IP address and geographic location of website traffic, we can:
* enable targeted online advertising
* prevent fraudulent transactions
* present content on location basis (e.g. forms, agreements, contracts, TOS, etc)
* provide website analytics in real time


<There are few assumptions we made to simplify the scope of the project.>



Motivations
===========



Dataset
=========

This dataset contains 36 months of passive Domain Name System (DNS) data produced by the Georgia Tech Information Security Center’s malicious software (malware) analysis system. It was produced by executing suspect (malicious) Windows executables for a short time.
Each executable's interaction with the DNS was recorded and used to create a four-column entry comprising the date in which the executable was processed, the executable’s MD5 hash, the domain name that was queried, and (if the query was of type A, i.e. website) a resolve IP address for the domain name. Data was collected between January 2011 and December 2013. For a given domain name, at most one resolve IP address is provided, even if the query resulted in a response record set (RRSet) that contained multiple resolution IP addresses.



- Download initial Dataset on [Predict.org website] (https://www.predict.org/Default.aspx?tabid=104&dsn=GT%20Malware%20Passive%20DNS&cls=2)

- Size: 3.5GB
- Rows: 44 Million rows.

With these information, we can expect very messy, incomplete, missing or badly formed dataset. Bulk of the work here involve cleaning the data.

For each IP, I extracted geolocation information through the geoips.com API service. In addition, I wrote a function to classify each IP to respective CLASSES for analytical purposes.

Extracted API Information: (hostname, owner, continent name, continent code, country name, country code, region name, region code, city name, latitude, longitude, timezone, official language, currency)

 - All `csv` files will be uploaded to [this GitHub folder] (http://nbviewer.ipython.org/github/RichardAfolabi/Data_Analysis_with_Python/tree/master/virus_malware_analytics/csv_dataset/)


Project Features
=======

* Cluster all `IP` by `classes` (A,B,C) and check `Descriptive Stats` of each class using: <br> `(Boxplot, Q-Q plot, Histogram, ANOVA)`. Bloxplot to show median, quantile etc. *Var: IPs, IP Classes, Continents, Countries, Cities, malware, domains, etc*


* Can we approximate the IPs distribution as a `normal distribution`? How about each `IP Class`? Are they approximately normal? Use `Q-Q plot` to show relationship for each class (law of large numbers and central limit theorem).


* Does the `IP Class` that an IP belongs to affect its vulnerability to attack? Use `F-Ratio test ANOVA`. If true, which class is potentially more vulnerable?


* Measure time effect (by days or weeks) `dayselapsed` on the `frequency` of attack on the DNS. `Cluster` by `IPclass`. Use scatterplot for days, boxplot for weeks.


* Which `domain | IP` has `highest & Lowest` vulnerability or most targeted DNS? `Boxplot` and `Bubbleplot`


* Which virus/malware `(MD5Hash)` has the `highest & Lowest` penetration frequency? `Boxplot` and `Bubbleplot`


* Use `IP LookUp API` to determine geographic location of the IP. Map geographic location to world map. `Country, long/lat, Continent, etc`


* Plot charts by `Country, Continent, Class, City, State, Type, ISP` etc using `Boxplot` and `Bubbleplot`


* Scrape offline and Online blacklisted IP and create Histograms of IPs in our dataset identified as blacklisted.


* Query `IP` of incoming users (new data), use as input to `IP LookUP API` and obtain feature set data about the user. Based on the `Class`, `predict` which virus/malware `MD5Hash` the user IP is vulnerable to.

* Data Integrity and Data Pattern Detection: Distribution of each variable, variable and data transformation - (e.g. counting), distribution and outlier visualizations (boxplot, scatterplots,etc). Which data columns are correlated or derivatives.


Models
========
I have used (and currently using) various statistical models to develop the following features which have been divided into three categories.

* <b>Descriptive Stats:</b> Description or summary of features of data we have at hand.

* <b>Inferential Stats:</b> Make generalization based on sample data we have at hand. "Is there a correlation between the class of IP and its vulnerability?"

* <b>Predictive Stats: </b> Make future projections based on data we have at hand. e.g. "Given a user IP (I use API service to determine the IP and geolocation of each usr on visit to the web app)" can we determine it's vulnerability using information we've learnt from existing data?




Tools
=====

- <b>Scientific & Analytic Tools:</b> Python, Pandas, Numpy, Scipy, etc

- <b>Visualization:</b> Plotly & Seaborn  (Jupyter notebook), BOKEH (Flask Web App)

- <b>Web App:</b> Flask, HTML, CSS, JavaScript



Results of Ongoing works
========
Results will be packaged as :

1. Jupyter (ipython) notebooks: [view the notebook] (http://nbviewer.ipython.org/github/RichardAfolabi/Data_Analysis_with_Python/blob/master/virus_malware_analytics/Malware%20Passive%20DNS.ipynb)

2. Slide Deck of my Projects : http://richardafolabi.github.io/Presentation_js/#/

3. Flask Web Application and hosted on Heroku : http://turaquo-analytics.herokuapp.com
